<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>온비드 API 호출</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<div class="container">
    <header>
        <h1>온비드 API 호출</h1>
        <nav>
            <a th:href="@{/properties}" class="btn">목록으로</a>
        </nav>
    </header>

    <div class="info-box">
        <h3>📢 안내</h3>
        <p>온비드 공공 API에서 물건 정보를 가져와 데이터베이스에 저장합니다.</p>
        <ul>
            <li>시도를 입력하지 않으면 전체 지역 데이터를 가져옵니다.</li>
            <li>중복된 물건관리번호는 자동으로 제외됩니다.</li>
            <li>페이지당 최대 100건까지 조회 가능합니다.</li>
        </ul>
    </div>

    <form th:action="@{/properties/fetch}" method="post" class="form-box">
        <h2>API 호출 설정</h2>

        <div class="form-row">
            <div class="form-group">
                <label for="sido">시도</label>
                <input type="text"
                       id="sido"
                       name="sido"
                       placeholder="예: 서울, 경기도 (선택사항)">
                <small>특정 지역만 조회하려면 입력하세요.</small>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="numOfRows">페이지당 데이터 개수</label>
                <input type="number"
                       id="numOfRows"
                       name="numOfRows"
                       value="10"
                       min="1"
                       max="100"
                       required>
                <small>1 ~ 100 사이의 값을 입력하세요.</small>
            </div>
            <div class="form-group">
                <label for="pageNo">페이지 번호</label>
                <input type="number"
                       id="pageNo"
                       name="pageNo"
                       value="1"
                       min="1"
                       required>
                <small>조회할 페이지 번호를 입력하세요.</small>
            </div>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-success">API 호출 시작</button>
            <a th:href="@{/properties}" class="btn">취소</a>
        </div>
    </form>

    <div class="warning-box">
        <h3>⚠️ 주의사항</h3>
        <ul>
            <li>API 호출에는 시간이 소요될 수 있습니다.</li>
            <li>서비스 키가 올바르게 설정되어 있는지 확인하세요.</li>
            <li>API 호출 실패 시 로그를 확인하세요.</li>
        </ul>
    </div>

    <footer>
        <p>&copy; 2024 온비드 물건 관리 시스템</p>
    </footer>
</div>
</body>
</html>